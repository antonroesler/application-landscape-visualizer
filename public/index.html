<!--/*
* Copyright (c) 2021 Ecore. All rights reserved.
*
* University:        Frankfurt University of Applied Sciences
* Study program:     Engineering Business Information Systems
* Module:            Advanced Programming 2021
* Professor:         Prof. Dr. Jung, Prof. Dr. Bremm
* Date:              21.04.2021
*
*/

/**
*
* Main page of the web application.
*
* @author Leonard Husske, Patrick Frech
*
*/-->


<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Application Landscape Visualizer</title>

    <link href="css/style.css" rel="stylesheet">
    <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">

    <script src="libs/gojs-lib/go-debug.js"></script>
    <script src="libs/gojs-lib/Figures.js"></script>
    <script src="libs/gojs-lib/icons.js"></script>
    <script src="libs/url-join.js"></script>
</head>

<body onload="init()">
    <header>
        <div class="main-nav">
            <img class="logo" src="img/logo/ecore_logo.png">
            <nav>
                <ul class="nav-links">
                    <li><a href="#" onclick="openLayoutModal()">Auto Layout</a></li>
                    <li><a href="#" onclick="loadDiagramNames(); openLoadDiagramModal();">Load</a></li>
                    <li><a href="#" id="saveButton" onclick="openSaveDiagramModal()">Save</a></li>
                </ul>
            </nav>
            <a class="cta" href="#" onclick="window.location.reload()"><button class="nav-btn">Create Diagram</button></a>
        </div>
        <div class="sub-nav">
            <nav>
                <ul class="nav-links">
                    <li><a href="#createModal">Create Node</a></li>
                    <li><a href="#" onclick="deleteNode()">Delete Node</a></li>
                    <li><a href="#">Undo</a></li>
                    <li><a href="#">Redo</a></li>
                    <li><a href="#filterModal">Add Filter</a></li>
                </ul>
            </nav>
        </div>
    </header>



    <!-- Needs to be updated -->
    <div class="modalDialog" id="createModal">
        <div>
            <a class="close" href="#close" title="Close">X</a>
            <h4 class="sidebarHeading">Create New Node</h4>
            <hr>
            Choose Category:
            <select class="navButton" id="createCategory" name="category"
                    title="Please choose correct Category">
                <option value="Database">Database</option>
                <option value="Application">Application</option>
                <option value="Component">Component</option>
                <option value="Stuff">Stuff</option>
                <option value="More Stuff">More Stuff</option>
                <option value="Epic Stuff">Epic Stuff</option>
            </select>
            <hr>
            <input autocomplete="off" class="inputField" id="createName" placeholder="Node Name: " title="Please insert Name of new Node here"
                   type="text"/>
            <input autocomplete="off" class="inputField2" id="createDesc" placeholder="Description: "
                   title="Node Description is inserted here" type="text"/>
            <p>Meta Field: </p>
            <hr>

            <input autocomplete="off" class="inputField" id="tags" placeholder="Tags: " title="Please insert Name of new Node here"
                   type="text"/>
            <input autocomplete="off" class="inputField" id="version" placeholder="Version: " title="Node Description is inserted here"
                   type="text"/>
            <input autocomplete="off" class="inputField" id="department" placeholder="Department: " title="Please insert Name of new Node here"
                   type="text"/>
            <input autocomplete="off" class="inputField" id="allowedUsers" placeholder="Allowed Users: "
                   title="Node Description is inserted here" type="text"/>
            <input autocomplete="off" class="inputField" id="license" placeholder="License: " title="Please insert Name of new Node here"
                   type="text"/>
            <hr>
            <button class="navButton" onclick="addAppNode()">Create</button>
        </div>
    </div>



    <!-- Layout Modal -->
    <div class="modal-bg" id="layoutModal">
        <div class="modal-popup">
            <div class="close" onclick="closeModal()">+</div>
            <div class="modal-content">
                <h2>Choose a Layout.</h2>
                <form class="modal-form" action="" onsubmit="return false">
                    <select class="input-dropdown" id="layoutOptions">
                        <option>Tree</option>
                        <option>Circle</option>
                        <option>Diagraph</option>
                        <option>Grid</option>
                    </select>
                    <button class="modal-btn" onclick="layoutModalDialogHandler(); closeModal();">Apply</button>
                    <button class="modal-btn-cancel" onclick="closeModal()">Cancel</button>
                </form>
            </div>
        </div>
    </div>


    <!-- Load Diagram Modal -->
    <div class="modal-bg" id="loadDiagramModal">
        <div class="modal-popup">
            <div class="close" onclick="closeModal()">+</div>
            <div class="modal-content">
                <h2>Load your Diagram.</h2>
                <form class="modal-form" action="" onsubmit="return false">
                    <select class="input-dropdown" id="loadCategory"></select>
                    <button class="modal-btn" onclick="loadDiagram(); closeModal();">Load</button>
                    <button class="modal-btn-cancel" onclick="closeModal()">Cancel</button>
                </form>
            </div>
        </div>
    </div>


    <!-- Save Diagram Modal -->
    <div class="modal-bg" id="saveDiagramModal">
        <div class="modal-popup">
            <div class="close" onclick="closeModal()">+</div>
        <div class="modal-content">
            <h2>Save your Diagram.</h2>
            <form class="modal-form" action="" onsubmit="return false">
                <input class="input-text" type="text" id="saveName" placeholder="Name">
                <input class="input-text" type="text" id="saveDesc" placeholder="Description">
                <button class="modal-btn" onclick="saveDiagram(); closeModal();">Save</button>
                <button class="modal-btn-cancel" onclick="closeModal()">Cancel</button>
            </form>
        </div>
        </div>
    </div>


    <!-- Needs to be updated -->
    <div class="modalDialog" id="filterModal">
        <div>
            <a class="close" href="#close" title="Schließen">X</a>
            <h4 class="sidebarHeading">Filter Options</h4>
            <hr>
            Choose Filter:
            <hr>
            <input autocomplete="off" class="inputField" id="filterName" placeholder="Search term: " title="Please insert Name of new Node here"
                   type="text"/>
            <input autocomplete="off" class="inputField2" id="filterDesc" placeholder="Description: "
                   title="Node Description is inserted here" type="text"/>
            <p>Meta Field: </p>
            <hr>
            <input autocomplete="off" class="inputField" id="filterTags" placeholder="Tags: " title="Please insert Name of new Node here"
                   type="text"/>
            <input autocomplete="off" class="inputField" id="filterVersion" placeholder="Version: " title="Node Description is inserted here"
                   type="text"/>
            <input autocomplete="off" class="inputField" id="filterDepartment" placeholder="Department: "
                   title="Please insert Name of new Node here" type="text"/>
            <input autocomplete="off" class="inputField" id="filterUsers" placeholder="Allowed Users: "
                   title="Node Description is inserted here" type="text"/>
            <input autocomplete="off" class="inputField" id="filterLicense" placeholder="License: " title="Please insert Name of new Node here"
                   type="text"/>
            <p>Category: </p>
            <select class="navButton" id="filterCategory" name="category" title="Please chosse correct Category">
                <option value=""></option>
                <option value="Database">Database</option>
                <option value="Package">Package</option>
                <option value="Component">Component</option>
                <option value="Application">Application</option>
            </select>
            <hr>
            <button class="navButton" onclick="filterAppNodes()">Filter</button>
            <button class="navButton" onclick="filterOff()">Filter OFF</button>
        </div>
    </div>









    <div class="main-content">
        <div id="diagramDiv"></div>
        <div class="sidebar-right"></div>
    </div>

    <footer>
        <div class="footer-content">
            <p> Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt </p>
        </div>
        <div class="footer-copyright">
            <p> Copyright © 2021 ECORE. All rights reserved. </p>
        </div>
    </footer>
</body>

<!-- index.js needs to be loaded after the <body>, because <div id="diagramDiv"> needs to be generated first -->
<script src="js/index.js"></script>
<script src="js/modal_util.js"></script>
<script src="js/database_util.js"></script>
<script src="js/diagram.js"></script>
<script src="js/filter.js"></script>
<script src="js/layout.js"></script>
<script src="js/static_util.js"></script>
<script src="js/node_template.js"></script>
<script src="js/link_template.js"></script>
</html>