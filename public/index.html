<!--/*
* Copyright (c) 2021 Ecore. All rights reserved.
*
* University:        Frankfurt University of Applied Sciences
* Study program:     Engineering Business Information Systems
* Module:            Advanced Programming 2021
* Professor:         Prof. Dr. Jung, Prof. Dr. Bremm
* Date:              21.04.2021
*
*/

/**
*
* Main page of the web application.
*
* @author Leonard Husske, Patrick Frech
*
*/-->


<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="UTF-8">
    <title>Application Landscape Visualizer</title>

    <link href="css/style.css" rel="stylesheet">
    <!--<link href="css/materialize.css" rel="stylesheet"> -->
    <link href="/favicon.ico" rel="shortcut icon" type="image/x-icon">
    <!-- Important Google Icon Font -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <script src="libs/gojs-lib/go-debug.js"></script>
    <script src="libs/gojs-lib/Figures.js"></script>
    <script src="libs/gojs-lib/icons.js"></script>
    <script src="libs/url-join.js"></script>
</head>

<body onload="init()">

    <header>
        <div class="main-nav">
            <img class="logo" src="img/logo/ecore_logo.png">
            <nav>
                <ul class="nav-links">
                    <li><a href="#" onclick="openLayoutModal()">Auto Layout</a></li>
                    <li><a href="#" onclick="loadDiagramNames(); openLoadDiagramModal();">Load</a></li>
                    <li><a href="#" id="saveButton" onclick="openSaveDiagramModal()">Save</a></li>
                </ul>
            </nav>
            <a class="cta" href="#" onclick="window.location.reload()"><button class="nav-btn">Create Diagram</button></a>
        </div>
        <div class="sub-nav">
            <nav>
                <ul class="nav-links">
                    <li><a href="#" onclick="openCreateNodeModal();">Create Node</a></li>
                    <li><a href="#" onclick="deleteNode()">Delete Node</a></li>
                    <li><a href="#">Undo</a></li>
                    <li><a href="#">Redo</a></li>
                    <li><a href="#filterModal">Add Filter</a></li>
                    <li><a href="#" data-target="slide-out" class="" onclick="openSidenav()">Sidenav</a></li>
                </ul>
            </nav>
        </div>
    </header>


    <!-- Create Node Modal -->
    <div class="modal-bg" id="createNodeModal">
        <div class="modal-popup">
            <div class="modal-close" onclick="deleteDropdownMenuOptions(); closeModal();">+</div>
            <div class="modal-content">
                <h2>Create new Node.</h2>
                <form class="modal-form" action="" onsubmit="return false">
                    <input type="hidden" id="contextMenu"/>
                    <input autocomplete="off" class="input-text" id="inputName" placeholder="Node Name: " type="text"/>
                    <textarea autocomplete="off" class="input-text input-textarea" id="inputDescription" placeholder="Description: " type="text"></textarea>
                    <div class="form-row">
                        <input list="inputLicenceDropdown" autocomplete="off" class="input-text" id="inputLicense" placeholder="License: " type="text"/>
                        <datalist id="inputLicenceDropdown"></datalist>
                        <input list="inputVersionDropdown" autocomplete="off" class="input-text" id="inputVersion" placeholder="Version: " type="text"/>
                        <datalist id="inputVersionDropdown"></datalist>
                    </div>
                    <span class="dropdown-description">Departments:</span>
                    <div id="inputDepartments" class="chips"></div>
                    <datalist id="inputDepartmentsDropdown"></datalist>
                    <span class="dropdown-description">Tags:</span>
                    <div id="inputTags" class="chips"></div>
                    <datalist id="inputTagsDropdown"></datalist>
                    <div class="form-row">
                        <span class="dropdown-description"> Start Date:</span>
                        <span class="dropdown-description"> Shutdown Date:</span>
                    </div>
                    <div class="form-row">
                        <input type="date" id="inputStartDate" class="input-text">
                        <input type="date" id="inputShutdownDate" class="input-text">
                    </div>
                    <div class="form-row">
                        <input list="inputProfessionalOwnerDropdown" autocomplete="off" class="input-text" id="inputProfessionalOwner" placeholder="Prof. Owner: " type="text"/>
                        <datalist id="inputProfessionalOwnerDropdown"></datalist>
                        <input list="inputTechnicalOwnerDropdown" autocomplete="off" class="input-text" id="inputTechnicalOwner" placeholder="Tech. Owner: " type="text"/>
                        <datalist id="inputTechnicalOwnerDropdown"></datalist>
                    </div>
                    <span class="dropdown-description">Application Type:</span>
                    <select class="input-dropdown" id="inputCategory" placeholder="Application Type: " type="text">
                        <option value="Database">Database</option>
                        <option value="Application">Application</option>
                        <option value="Component">Component</option>
                        <option value="Stuff">Stuff</option>
                        <option value="More Stuff">More Stuff</option>
                        <option value="Epic Stuff">Epic Stuff</option>
                    </select>
                    <button class="modal-btn" onclick="deleteDropdownMenuOptions(); addAppNode(); closeModal();">Create</button>
                    <button class="modal-btn-cancel" onclick="deleteDropdownMenuOptions(); closeModal();">Cancel</button>
                </form>
            </div>
        </div>
    </div>


    <!-- Layout Modal -->
    <div class="modal-bg" id="layoutModal">
        <div class="modal-popup">
            <div class="modal-close" onclick="closeModal()">+</div>
            <div class="modal-content">
                <h2>Choose Layout.</h2>
                <form class="modal-form" action="" onsubmit="return false">
                    <select class="input-dropdown" id="layoutOptions">
                        <option value="tree">Tree</option>
                        <option value="forcedir">Force Directed</option>
                        <option value="laydi">Layered Digraph</option>
                        <option value="grid">Grid</option>
                        <option value="cir">Circle</option>
                    </select>
                    <button class="modal-btn" onclick="layoutModalDialogHandler(); closeModal();">Apply</button>
                    <button class="modal-btn-cancel" onclick="closeModal()">Cancel</button>
                </form>
            </div>
        </div>
    </div>


    <!-- Load Diagram Modal -->
    <div class="modal-bg" id="loadDiagramModal">
        <div class="modal-popup">
            <div class="modal-close" onclick="closeModal()">+</div>
            <div class="modal-content">
                <h2>Load your Diagram.</h2>
                <form class="modal-form" action="" onsubmit="return false">
                    <select class="input-dropdown" id="loadCategory"></select>
                    <button class="modal-btn" onclick="loadDiagram(); closeModal();">Load</button>
                    <button class="modal-btn-cancel" onclick="closeModal()">Cancel</button>
                </form>
            </div>
        </div>
    </div>


    <!-- Save Diagram Modal -->
    <div class="modal-bg" id="saveDiagramModal">
        <div class="modal-popup">
            <div class="modal-close" onclick="closeModal()">+</div>
        <div class="modal-content">
            <h2>Save your Diagram.</h2>
            <form class="modal-form" action="" onsubmit="return false">
                <input autocomplete="off" class="input-text" type="text" id="saveName" placeholder="Name">
                <input autocomplete="off" class="input-text" type="text" id="saveDesc" placeholder="Description">
                <button class="modal-btn" onclick="saveDiagram(); closeModal();">Save</button>
                <button class="modal-btn-cancel" onclick="closeModal()">Cancel</button>
            </form>
        </div>
        </div>
    </div>


    <!-- Needs to be updated -->
    <div class="modalDialog" id="filterModal">
        <div>
            <a class="close" href="#close" title="Schließen">X</a>
            <h4 class="sidebarHeading">Filter Options</h4>
            <hr>
            Choose Filter:
            <hr>
            <input autocomplete="off" class="inputField" id="filterName" placeholder="Search term: " title="Please insert Name of new Node here"
                   type="text"/>
            <input autocomplete="off" class="inputField2" id="filterDesc" placeholder="Description: "
                   title="Node Description is inserted here" type="text"/>
            <p>Meta Field: </p>
            <hr>
            <input autocomplete="off" class="inputField" id="filterTags" placeholder="Tags: " title="Please insert Name of new Node here"
                   type="text"/>
            <input autocomplete="off" class="inputField" id="filterVersion" placeholder="Version: " title="Node Description is inserted here"
                   type="text"/>
            <input autocomplete="off" class="inputField" id="filterDepartment" placeholder="Department: "
                   title="Please insert Name of new Node here" type="text"/>
            <input autocomplete="off" class="inputField" id="filterUsers" placeholder="Allowed Users: "
                   title="Node Description is inserted here" type="text"/>
            <input autocomplete="off" class="inputField" id="filterLicense" placeholder="License: " title="Please insert Name of new Node here"
                   type="text"/>
            <p>Category: </p>
            <select class="navButton" id="filterCategory" name="category" title="Please chosse correct Category">
                <option value=""></option>
                <option value="Database">Database</option>
                <option value="Package">Package</option>
                <option value="Component">Component</option>
                <option value="Application">Application</option>
            </select>
            <hr>
            <button class="navButton" onclick="filterDiagramFromModal()">Filter</button>
            <button class="navButton" onclick="filterOff()">Filter OFF</button>
        </div>
    </div>






    <div class="main-content">


        <!-- Slide Menu -->
        <ul id="slide-out" class="sidenav">
            <li class="no-padding">
                <ul class="collapsible collapsible-accordion">
                    <li>
                        <a class="collapsible-header">Dropdown<i class="material-icons">arrow_drop_down</i></a>
                        <div class="collapsible-body">
                            <ul>
                                <li><input type="checkbox" id="test" class="radio-input-collapsible"><label for="test">Test</label></li>
                                <li><a href="#!">Second</a></li>
                                <li><a href="#!">Third</a></li>
                                <li><a href="#!">Fourth</a></li>
                            </ul>
                        </div>
                    </li>
                    <hr class="hr-collapse">
                    <li>
                        <a class="collapsible-header">Next Filter<i class="material-icons">arrow_drop_down</i></a>
                        <div class="collapsible-body">
                            <ul>
                                <li><input type="checkbox" id="test2" class="radio-input-collapsible"><label for="test2">Test</label></li>
                                <li><a href="#!">Second</a></li>
                                <li><a href="#!">Third</a></li>
                                <li><a href="#!">Fourth</a></li>
                            </ul>
                        </div>
                    </li>
                    <hr class="hr-collapse">
                </ul>
            </li>
        </ul>





        <div id="diagramDiv"></div>




        <!-- Sidebar Right -->
        <div class="sidebar-right">
          <div class="sidebar-box-resizable" >
              <h2 class="node-headline">Node Information</h2>
              <div class="node-info-container">
                  <!-- Static Data which could be generated -->
                  <div class="box-row">
                      <p class="node-info-text bold-text">Name:</p>
                      <p class="node-info-text">VS Code</p>
                  </div>
                  <div>
                      <p class="node-info-text bold-text">Description:</p>
                      <p class="node-info-text text-align-justify">Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt ut labore et dolore magna aliquyam erat, sed diam voluptua. At vero eos et accusam et justo duo dolores et ea rebum.</p>
                  </div>
                  <div class="box-row">
                      <p class="node-info-text bold-text">Name:</p>
                      <p class="node-info-text">VS Code</p>
                  </div>
                  <div class="box-row">
                      <p class="node-info-text bold-text">License:</p>
                      <p class="node-info-text">AWS 111</p>
                  </div>
                  <div class="box-row">
                      <p class="node-info-text bold-text">Version:</p>
                      <p class="node-info-text">1.0</p>
                  </div>
              </div>

              <div id="diagramEventsMsg" style="white-space: pre-wrap"></div>
          </div>
            <div class="sidebar-box">
                <hr>
                <div class="row">
                    <div class="col s12">
                        <ul class="tabs">
                            <li class="tab col s3"><a href="#filterTab">Filter</a></li>
                            <li class="tab col s3"><a href="#visualizationTab">Visualize</a></li>
                        </ul>
                    </div>
                    <div id="filterTab" class="col s12">
                        <h4 class="sidebarHeading"> - Filters - </h4>
                        Choose Filter:
                        <select class="navButton" id="filterSelect"></select>
                        <button class="navButton" onclick="filterDiagramFromSelect()">Filter</button>
                        <button class="navButton" onclick="filterOff()">Filter OFF</button>
                    </div>
                    <div id="visualizationTab" class="col s12">Test 2</div>
                </div>
            </div>
      </div>
      
    </div>

    <footer>
        <div class="footer-content">
            <p> Lorem ipsum dolor sit amet, consetetur sadipscing elitr, sed diam nonumy eirmod tempor invidunt </p>
        </div>
        <div class="footer-copyright">
            <p> Copyright © 2021 ECORE. All rights reserved. </p>
        </div>
    </footer>
</body>

<script src="libs/materialize.js"></script>
<script src="js/index.js"></script>
<script src="js/modal_util.js"></script>
<script src="js/database_util.js"></script>
<script src="js/diagram.js"></script>
<script src="js/contextmenu.js"></script>
<script src="js/filter.js"></script>
<script src="js/layout.js"></script>
<script src="js/highlight.js"></script>
<script src="js/static_util.js"></script>
<script src="js/node_template.js"></script>
<script src="js/link_template.js"></script>

</html>

